<header class="titulo">
  <h1>Realizar Pedido</h1>
</header>

<div class="pedido-formulario">
  <form (ngSubmit)="enviarPedido()">

    <label>Cliente:</label>
    <input type="text" [(ngModel)]="cliente" name="cliente" required>

    <label>Departamento:</label>
    <input type="text" [(ngModel)]="departamento" name="departamento" required>

    <label>Ciudad:</label>
    <input type="text" [(ngModel)]="ciudad" name="ciudad" required>

    <label>Direcci√≥n de Entrega:</label>
    <input type="text" [(ngModel)]="direccionEntrega" name="direccionEntrega" required>

    <label>Fecha de Reserva:</label>
    <input type="date" [(ngModel)]="fechaReserva" name="fechaReserva" required>

    <label>Fecha de Entrega:</label>
    <input type="date" [(ngModel)]="fechaEntrega" name="fechaEntrega" required>

    <label>ID del Pedido:</label>
    <input type="text" [(ngModel)]="id" name="id" required>

    <div *ngFor="let producto of productos; let i = index" class="producto-linea">
      <label>Producto #{{i + 1}}:</label>
      <input type="text" [(ngModel)]="producto.nombre" name="productoNombre{{i}}" required>

      <label>Cantidad:</label>
      <input type="number" [(ngModel)]="producto.cantidad" name="productoCantidad{{i}}" (input)="calcularTotales()" min="1" required>

      <label>Precio:</label>
      <input type="number" [(ngModel)]="producto.precio" name="productoPrecio{{i}}" (input)="calcularTotales()" step="0.01" required>
    </div>

    <button type="button" class="agregar" (click)="agregarProducto()">+ Agregar Producto</button>

    <label>Abono:</label>
    <input type="number" [(ngModel)]="abono" name="abono" (input)="calcularTotales()" step="0.01" required>

    <div class="resumen">
      <p><strong>Total:</strong> ${{ total.toFixed(2) }}</p>
      <p><strong>Restante:</strong> ${{ restante.toFixed(2) }}</p>
    </div>

    <button type="submit" class="enviar">Enviar Pedido</button>
  </form>
</div>

